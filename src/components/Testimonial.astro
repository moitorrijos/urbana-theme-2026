---
const testimonials = [
  {
    quote: "The rooftop bar offers breathtaking views of the city skyline. Perfect for unwinding after exploring the city. Staff was incredibly attentive.",
    name: "Sarah Mitchell",
    location: "New York, USA",
    rating: 5,
  },
  {
    quote: "Exceptional service from check-in to checkout. The spa treatments were divine and the concierge helped us discover hidden gems in the city.",
    name: "James Chen",
    location: "London, UK",
    rating: 5,
  },
  {
    quote: "A truly luxurious experience. The room was immaculate with stunning city views. Will definitely return on our next business trip.",
    name: "Maria Santos",
    location: "SÃ£o Paulo, Brazil",
    rating: 5,
  },
  {
    quote: "The modern amenities combined with classic elegance made our stay unforgettable. The concierge service exceeded all expectations.",
    name: "Emma Thompson",
    location: "Paris, France",
    rating: 5,
  },
  {
    quote: "Outstanding location in the heart of the city. The rooms are spacious and the breakfast buffet was incredible. Highly recommended!",
    name: "Michael Rodriguez",
    location: "Madrid, Spain",
    rating: 5,
  },
  {
    quote: "Stayed here for a special anniversary celebration. The staff arranged everything perfectly, and the sunset view from our room was magical.",
    name: "Lisa Wang",
    location: "Singapore",
    rating: 5,
  },
  {
    quote: "Impeccable cleanliness and attention to detail throughout. The gym facilities are top-notch and the wellness center is a true sanctuary.",
    name: "David Kowalski",
    location: "Berlin, Germany",
    rating: 5,
  },
  {
    quote: "The rooftop infinity pool overlooking the city is absolutely stunning. Perfect blend of comfort, style, and world-class service.",
    name: "Isabella Rossi",
    location: "Milan, Italy",
    rating: 5,
  },
  {
    quote: "Best hotel experience of my travels. The staff remembered our preferences and the personalized service made us feel like VIPs.",
    name: "Robert Hamilton",
    location: "Toronto, Canada",
    rating: 5,
  },
];
---

<section class="py-20 bg-light-gray">
  <div class="container mx-auto px-4 md:px-15">
    <!-- Header -->
    <div class="flex flex-col items-center gap-4 mb-12">
      <span class="font-body text-sm font-medium text-gold-warm tracking-[3px]">
        GUEST EXPERIENCES
      </span>
      <h2 class="font-headline text-3xl md:text-[42px] font-medium text-text-primary">
        What Our Guests Say
      </h2>
      <div class="w-15 h-0.75 bg-sky-blue"></div>
    </div>

    <!-- Carousel Area -->
    <div class="flex items-center justify-center gap-8">
      <!-- Left Arrow -->
      <button
        type="button"
        class="hidden md:flex items-center justify-center w-12 h-12 rounded-full bg-white border border-border-gray hover:bg-light-gray transition-colors shrink-0"
        id="testimonial-prev"
        aria-label="Previous testimonial"
      >
        <svg class="w-6 h-6 text-text-primary" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
        </svg>
      </button>

      <!-- Swiper Container -->
      <div class="swiper testimonial-swiper w-full max-w-250">
        <div class="swiper-wrapper">
          {testimonials.map((testimonial) => (
            <div class="swiper-slide h-auto">
              <div class="bg-white rounded-lg p-4 lg:p-8 shadow-[0_4px_20px_rgba(0,0,0,0.06)] flex flex-col items-center gap-5 h-full">
                <!-- Quote Icon -->
                <svg class="w-8 h-8 text-gold-warm" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
                </svg>

                <!-- Quote Text -->
                <p class="font-body text-sm text-text-primary text-center leading-[1.7]">
                  "{testimonial.quote}"
                </p>

                <!-- Stars -->
                <div class="flex gap-1">
                  {Array.from({ length: testimonial.rating }).map(() => (
                    <svg class="w-4 h-4 text-gold-warm" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                    </svg>
                  ))}
                </div>

                <!-- Author -->
                <div class="flex flex-col items-center gap-1">
                  <span class="font-headline text-base font-medium text-text-primary">
                    {testimonial.name}
                  </span>
                  <span class="font-body text-xs text-medium-gray">
                    {testimonial.location}
                  </span>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Right Arrow -->
      <button
        type="button"
        class="hidden md:flex items-center justify-center w-12 h-12 rounded-full bg-sky-blue hover:bg-sky-blue-light transition-colors shrink-0"
        id="testimonial-next"
        aria-label="Next testimonial"
      >
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
        </svg>
      </button>
    </div>

    <!-- Pagination Dots -->
    <div class="testimonial-pagination mt-12"></div>
  </div>
</section>

<script>
  import Swiper from 'swiper';
  import { Navigation, Pagination } from 'swiper/modules';
  import 'swiper/css';

  new Swiper('.testimonial-swiper', {
    modules: [Navigation, Pagination],
    slidesPerView: 1,
    slidesPerGroup: 1,
    spaceBetween: 8,
    breakpoints: {
      768: {
        slidesPerView: 3,
        slidesPerGroup: 3,
        spaceBetween: 24,
      },
    },
    navigation: {
      nextEl: '#testimonial-next',
      prevEl: '#testimonial-prev',
    },
    pagination: {
      el: '.testimonial-pagination',
      clickable: true,
    },
  });
</script>

<style is:global>
  .testimonial-pagination {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
  }

  .testimonial-pagination .swiper-pagination-bullet {
    width: 0.5rem;
    height: 0.5rem;
    background: #E0E0E0;
    border-radius: 9999px;
    opacity: 1;
    transition: width 0.15s, height 0.15s, background 0.15s;
    display: inline-block;
    margin: 0;
  }

  .testimonial-pagination .swiper-pagination-bullet-active {
    width: 0.75rem;
    height: 0.75rem;
    background: #6CB4D9;
  }

  #testimonial-prev.swiper-button-disabled,
  #testimonial-next.swiper-button-disabled {
    opacity: 0.4;
    cursor: not-allowed;
    pointer-events: none;
  }
</style>
