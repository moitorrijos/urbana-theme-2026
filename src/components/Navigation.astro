---
interface Props {
  currentPage?: string;
}

const { currentPage = "home" } = Astro.props;

const navLinks = [
  { href: "/", label: "HOME", id: "home" },
  { href: "/rooms", label: "ROOMS", id: "rooms" },
  { href: "/amenities", label: "AMENITIES", id: "amenities" },
  { href: "/contact", label: "CONTACT", id: "contact" },
];
---

<header>
  <!-- Top Bar -->
  <div class="bg-top-bar text-white text-sm py-2">
    <div class="container mx-auto px-4 flex justify-end gap-6">
      <a
        href="tel:+1234567890"
        class="hover:text-sky-blue-light transition-colors">+1 (234) 567-890</a
      >
      <a
        href="mailto:info@urbana.com"
        class="hover:text-sky-blue-light transition-colors">info@urbana.com</a
      >
    </div>
  </div>

  <!-- Main Navigation -->
  <nav class="bg-navbar py-4">
    <div class="container mx-auto px-4 flex items-center justify-between">
      <!-- Logo -->
      <a href="/">
        <img src="/urbana-white-logo.svg" alt="Urbana Hotel" class="h-6" />
      </a>

      <!-- Desktop Nav Links -->
      <ul class="hidden md:flex items-center gap-8">
        {
          navLinks.map((link) => (
            <li>
              <a
                href={link.href}
                class:list={[
                  "font-headline text-sm tracking-wide transition-colors",
                  currentPage === link.id
                    ? "text-sky-blue"
                    : "text-white hover:text-sky-blue-light",
                ]}
              >
                {link.label}
              </a>
            </li>
          ))
        }
      </ul>

      <!-- Book Now Button -->
      <a
        href="/book"
        class="bg-sky-blue hidden lg:block hover:bg-sky-blue-light text-white font-body font-semibold text-sm px-6 py-2 transition-colors"
      >
        BOOK NOW
      </a>

      <!-- Mobile Hamburger Button -->
      <button
        class="md:hidden text-white"
        aria-label="Open menu"
        id="drawer-open"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </nav>
</header>

<!-- Backdrop -->
<div
  id="drawer-backdrop"
  class="fixed inset-0 bg-black/50 z-40 opacity-0 pointer-events-none transition-opacity duration-300 md:hidden"
></div>

<!-- Drawer -->
<div
  id="mobile-drawer"
  class="fixed top-0 right-0 h-full w-72 bg-navbar z-50 translate-x-full transition-transform duration-300 ease-in-out flex flex-col md:hidden"
  aria-label="Mobile navigation"
>
  <!-- Drawer Header -->
  <div class="flex items-center justify-between px-6 py-5 border-b border-white/10">
    <img src="/urbana-white-logo.svg" alt="Urbana Hotel" class="h-5" />
    <button id="drawer-close" aria-label="Close menu" class="text-white hover:text-sky-blue-light transition-colors">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>

  <!-- Drawer Links -->
  <ul class="flex flex-col px-6 py-6 gap-1 flex-1">
    {
      navLinks.map((link) => (
        <li>
          <a
            href={link.href}
            class:list={[
              "drawer-link font-headline text-sm tracking-wide transition-colors block py-3 border-b border-white/10",
              currentPage === link.id
                ? "text-sky-blue"
                : "text-white hover:text-sky-blue-light",
            ]}
          >
            {link.label}
          </a>
        </li>
      ))
    }
  </ul>

  <!-- Book Now -->
  <div class="px-6 py-6">
    <a
      href="/book"
      class="drawer-link bg-sky-blue hover:bg-sky-blue-light text-white font-body font-semibold text-sm px-6 py-3 transition-colors block text-center"
    >
      BOOK NOW
    </a>
  </div>
</div>

<script>
  const openBtn = document.getElementById("drawer-open");
  const closeBtn = document.getElementById("drawer-close");
  const drawer = document.getElementById("mobile-drawer");
  const backdrop = document.getElementById("drawer-backdrop");
  const drawerLinks = document.querySelectorAll(".drawer-link");

  function openDrawer() {
    drawer?.classList.remove("translate-x-full");
    backdrop?.classList.remove("opacity-0", "pointer-events-none");
    document.body.style.overflow = "hidden";
  }

  function closeDrawer() {
    drawer?.classList.add("translate-x-full");
    backdrop?.classList.add("opacity-0", "pointer-events-none");
    document.body.style.overflow = "";
  }

  openBtn?.addEventListener("click", openDrawer);
  closeBtn?.addEventListener("click", closeDrawer);
  backdrop?.addEventListener("click", closeDrawer);
  drawerLinks.forEach((link) => link.addEventListener("click", closeDrawer));
</script>
